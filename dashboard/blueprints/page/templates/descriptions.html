{% extends 'layouts/base.html' %}
{% import 'macros/common.html' as common with context %}

{% block title %}Table {% endblock %}

{% block nav %}
    <li class="breadcrumb-item"><a href="/">Home</a></li>
    <li class="breadcrumb-item active">Tables dashboard</li>
{%  endblock %}

{% block body %}

<link href="{{ url_for('static', filename='css/table_dashboard.css')}}" rel="stylesheet">

<div id="tooling">
        <div id="search">
                <input placeholder="&#x1F50D; Search" />
                <div id="clear-search-container">
                    <p id="clear-search">&times;</p>
                </div>
            </div>
</div>

<div id="table-container">
    <div class="row mt-3 table-header">
        <div class="col-3">Database | Table name</div>
        <div class="col-9">Column | Type | Description</div>
    </div>
{% for table_name, columns in tables %}
<div id="{{ table_name.split('.')[1] }}" class="row mt-3 table-data">
  <div class="col-3">
    <p>
        {{ table_name }}
    </p>
  </div>
  <div class="col-9">
    {% for column in columns %}
      <div class="row mt-3 table-data">
        <div class="col-3">
          <p>
              {{ column.name }}
          </p>
        </div>
        <div class="col-3">
          <p>
              {{ column.type }}
          </p>
        </div>
        <div class="col-3">
          <p>
              {{ column.description }}
          </p>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endfor %}

</div>

{% endblock %}

{% block charts %}
    <script src="{{ url_for('static', filename='js/search.js') }}"></script>
    <script src="{{ url_for('static', filename='js/highlight.js') }}"></script>
    <script src="{{ url_for('static', filename='js/render_vis.js') }}"></script>
    <script>
        let search = new SearchProvider('.table-data');
        search.main();

        window.onload = checkHighlight;
      </script>
{% endblock %}